{
    "templates":[
        {   "question":"What is the category with the biggest sales opportunity?"
        ,   "desc":"The category or genre with the biggest or most sales opportunity overall"
        ,   "category":"sales-opportunity"
        ,   "query":"SELECT TOP 1 CATEGORY_LABEL      , SUM(OPPS) AS OPPORTUNITY FROM ARMETA_AI.DASHBOARD.STORY_SALES_ACCELERATOR SA  JOIN ARMETA_AI.STORY.LKP_CATEGORY                C    ON SA.CATEGORY_CD = C.CATEGORY_CD  WHERE IS_ACTIVE = TRUE     AND OPPS IS NOT NULL  GROUP BY CATEGORY_LABEL ORDER BY opportunity DESC"
        ,   "parameters":[]
        ,   "urlfilter":""
        ,   "urlquery":""
        ,   "URLparameters":[]
        },
        {   "question":"What is the category with the biggest sales opportunity at STATE/DISTRICT?"
        ,   "desc":"The category or genre with the biggest or most sales opportunity at STATE/DISTRICT"
        ,   "category":"sales-opportunity"
        ,   "query":"WITH Find_DistrictName AS (     SELECT TOP 1             DISTRICT_LABEL          , REGEXP_SUBSTR(DISTRICT_DESC, '[a-zA-Z][a-zA-Z ]+') AS DISTRICT_DESC     FROM   ARMETA_AI.STORY.LKP_DISTRICT D     WHERE  DISTRICT_LABEL = 'STATE/DISTRICT' ), Find_TopCategory AS (     SELECT CATEGORY_LABEL          , DISTRICT_LABEL          , SUM(OPPS) AS OPPORTUNITY     FROM ARMETA_AI.DASHBOARD.STORY_SALES_ACCELERATOR SA      JOIN ARMETA_AI.STORY.LKP_CATEGORY                C  ON SA.CATEGORY_CD = C.CATEGORY_CD     JOIN ARMETA_AI.STORY.LKP_DISTRICT                D  ON SA.DISTRICT_CD = D.DISTRICT_CD                      WHERE OPPS IS NOT NULL      GROUP BY CATEGORY_LABEL, DISTRICT_LABEL     ORDER BY OPPORTUNITY DESC ) SELECT TOP 1         CONCAT('The category with the biggest sales opportunity in '             , DN.DISTRICT_DESC             , ' is '             , CATEGORY_LABEL             , ' with $'             , LTRIM(TO_VARCHAR(IFNULL(OPPORTUNITY,0), '999,999,999,990'))             , ' opportunity.'         ) AS RESULTS FROM Find_DistrictName DN JOIN Find_TopCategory  TC ON DN.DISTRICT_LABEL = TC.DISTRICT_LABEL ORDER BY TC.OPPORTUNITY DESC"
        ,   "parameters":[{"name":"STATE/DISTRICT", "values":["AL", "AZ", "CA", "CT", "GA", "IL", "IN", "LA", "MI", "NH", "NJ", "OR", "PA", "TN", "TX", "WA", "WV", "WY"]}]
        ,   "urlfilter":"{\"district\":[\"STATE/DISTRICT\"]}"
        ,   "urlquery":""
        ,   "URLparameters":[{"name":"STATE/DISTRICT", "values":["1", "2", "3", "4", "5", "6", "7", "9", "13", "16", "17", "19", "22", "23", "24", "26", "27", "28"]}]
        },
        {   "question":"What is the category with the biggest sales opportunity at STORE/LOCATION/CITY?"
        ,   "desc":"The category or genre with the biggest or most sales opportunity at STORE/LOCATION/CITY"
        ,   "category":"sales-opportunity"
        ,   "query":"WITH Find_LocationName AS (     SELECT         TOP 1 LOCATION_LABEL,         REGEXP_SUBSTR(LOCATION_DESC, '[a-zA-Z][a-zA-Z ]+') AS LOCATION_DESC     FROM         ARMETA_AI.STORY.LKP_LOCATION L     WHERE         LOCATION_LABEL = 'STORE/LOCATION/CITY' ), Find_TopCategory AS (     SELECT         CATEGORY_LABEL,         LOCATION_LABEL,         SUM(OPPS) AS OPPORTUNITY     FROM         ARMETA_AI.DASHBOARD.STORY_SALES_ACCELERATOR SA         JOIN ARMETA_AI.STORY.LKP_CATEGORY C ON SA.CATEGORY_CD = C.CATEGORY_CD         JOIN ARMETA_AI.STORY.LKP_LOCATION L ON SA.LOCATION_CD = L.LOCATION_CD     WHERE         OPPS IS NOT NULL     GROUP BY         CATEGORY_LABEL,         LOCATION_LABEL     ORDER BY         OPPORTUNITY DESC ) SELECT     TOP 1 CONCAT(         'The category with the biggest sales opportunity in ',         LN.LOCATION_DESC,         ' is ',         CATEGORY_LABEL,         ' with $',         LTRIM(             TO_VARCHAR(IFNULL(OPPORTUNITY, 0), '999,999,999,990')         ),         ' opportunity.'     ) AS RESULTS FROM     Find_LocationName LN     JOIN Find_TopCategory TC ON LN.LOCATION_LABEL = TC.LOCATION_LABEL ORDER BY     OPPORTUNITY DESC"
        ,   "parameters":[{"name":"STORE/LOCATION/CITY", "values":["PORTLAND,OR", "HOUSTON,TX", "FLAGSTAFF,AZ", "BATONROUGE,LA", "JACKSON,MI", "COLUMBUS,IN", "EUGENE,OR", "NEWORLEANS,LA", "BIRMINGHAM,AL", "SAN DIEGO,CA", "HERSHEY,PA", "ELPASO,TX", "LANCASTER,PA", "MIDDLETOWN,WV", "SEATTLE,WA", "PITTSBURGH,PA", "KOKOMO,IN", "PHILADELPHIA,PA", "YORK,PA", "HUNTSVILLE,AL", "DALLAS,TX", "EUREKA,CA", "TACOMA,WA", "PERU,IL", "HARTFORD,CT", "FORTWORTH,TX", "BLOOMNGTN,IL", "AUSTIN,TX", "MACON,GA", "WACO,TX", "BRICK,NJ", "MANCHESTER ,NH", "CONCORD,NH", "ROCKSPRNG,WY", "KNOXVILLE,TN", "OLYMPIA,WA", "BILOXI,MI"]}]
        ,   "urlfilter":"{\"location\":[\"STORE/LOCATION/CITY\"]}"
        ,   "urlquery":""
        ,   "URLparameters":[{"name":"STORE/LOCATION/CITY", "values":[40, 34, 19, 9, 17, 51, 41, 7, 10, 62, 4, 45, 5, 2, 36, 3, 53, 11, 13, 12, 23, 63, 37, 55, 32, 43, 54, 38, 65, 48, 27, 25, 30, 58, 14, 39, 18]}]
        }, 
        {   "question":"What is the opportunity at STORE/LOCATION/CITY?"
        ,   "desc":"The sales opportunity or missed sales at STORE/LOCATION/CITY"
        ,   "category":"sales-opportunity"
        ,   "query":"WITH Find_LocationName AS (     SELECT TOP 1             LOCATION_LABEL          , REGEXP_SUBSTR(LOCATION_DESC, '[a-zA-Z][a-zA-Z ]+') AS LOCATION_DESC     FROM   ARMETA_AI.STORY.LKP_LOCATION L     WHERE LOCATION_LABEL = 'STORE/LOCATION/CITY'), Find_Opportunity AS (     SELECT LOCATION_LABEL          , SUM(OPPS) AS OPPORTUNITY     FROM ARMETA_AI.DASHBOARD.STORY_SALES_ACCELERATOR SA      JOIN ARMETA_AI.STORY.LKP_LOCATION                L  ON SA.LOCATION_CD = L.LOCATION_CD                      WHERE OPPS IS NOT NULL      GROUP BY LOCATION_LABEL     ORDER BY OPPORTUNITY DESC ) SELECT TOP 1         CONCAT('The sales opportunity in '             , LN.LOCATION_DESC             , ' is  $'             , LTRIM(TO_VARCHAR(IFNULL(OPPORTUNITY,0), '999,999,999,990'))             , '.'         ) AS RESULTS FROM     Find_LocationName LN JOIN     Find_Opportunity  TC ON LN.LOCATION_LABEL = TC.LOCATION_LABEL ORDER BY OPPORTUNITY DESC"
        ,   "parameters":[{"name":"STORE/LOCATION/CITY", "values":["PORTLAND,OR", "HOUSTON,TX", "FLAGSTAFF,AZ", "BATONROUGE,LA", "JACKSON,MI", "COLUMBUS,IN", "EUGENE,OR", "NEWORLEANS,LA", "BIRMINGHAM,AL", "SAN DIEGO,CA", "HERSHEY,PA", "ELPASO,TX", "LANCASTER,PA", "MIDDLETOWN,WV", "SEATTLE,WA", "PITTSBURGH,PA", "KOKOMO,IN", "PHILADELPHIA,PA", "YORK,PA", "HUNTSVILLE,AL", "DALLAS,TX", "EUREKA,CA", "TACOMA,WA", "PERU,IL", "HARTFORD,CT", "FORTWORTH,TX", "BLOOMNGTN,IL", "AUSTIN,TX", "MACON,GA", "WACO,TX", "BRICK,NJ", "MANCHESTER ,NH", "CONCORD,NH", "ROCKSPRNG,WY", "KNOXVILLE,TN", "OLYMPIA,WA", "BILOXI,MI"]}]
        ,   "urlfilter":"{\"location\":[\"STORE/LOCATION/CITY\"]}"
        ,   "urlquery":""
        ,   "URLparameters":[{"name":"STORE/LOCATION/CITY", "values":[40, 34, 19, 9, 17, 51, 41, 7, 10, 62, 4, 45, 5, 2, 36, 3, 53, 11, 13, 12, 23, 63, 37, 55, 32, 43, 54, 38, 65, 48, 27, 25, 30, 58, 14, 39, 18]}]
        },
        {   "question":"What is the opportunity at STATE/DISTRICT?"
        ,   "desc":"The sales opportunity or missed sales at STATE/DISTRICT"
        ,   "category":"sales-opportunity"
        ,   "query":"WITH Find_DistrictName AS (     SELECT         TOP 1 District_LABEL,         REGEXP_SUBSTR(DISTRICT_DESC, '[a-zA-Z][a-zA-Z ]+') AS DISTRICT_DESC     FROM         ARMETA_AI.STORY.LKP_DISTRICT D     WHERE         District_LABEL = 'STATE/DISTRICT' ), Find_Opportunity AS (     SELECT         DISTRICT_LABEL,         SUM(OPPS) AS OPPORTUNITY     FROM         ARMETA_AI.DASHBOARD.STORY_SALES_ACCELERATOR SA         JOIN ARMETA_AI.STORY.LKP_DISTRICT D ON D.DISTRICT_CD = SA.DISTRICT_CD     WHERE         OPPS IS NOT NULL     GROUP BY         DISTRICT_LABEL     ORDER BY         OPPORTUNITY DESC ) SELECT     TOP 1 CONCAT(         'The sales opportunity in ',         DN.DISTRICT_DESC,         ' is  $',         LTRIM(             TO_VARCHAR(IFNULL(OPPORTUNITY, 0), '999,999,999,990')         ),         '.'     ) AS RESULTS FROM     Find_DistrictName DN     JOIN Find_Opportunity TC ON DN.District_LABEL = TC.district_label ORDER BY     OPPORTUNITY DESC"
        ,   "parameters":[{"name":"STATE/DISTRICT", "values":["AL", "AZ", "CA", "CT", "GA", "IL", "IN", "LA", "MI", "NH", "NJ", "OR", "PA", "TN", "TX", "WA", "WV", "WY"]}]
        ,   "urlfilter":"{\"district\":[\"STATE/DISTRICT\"]}"
        ,   "urlquery":""
        ,   "URLparameters":[{"name":"STATE/DISTRICT", "values":["1", "2", "3", "4", "5", "6", "7", "9", "13", "16", "17", "19", "22", "23", "24", "26", "27", "28"]}]
        }
    ]
}